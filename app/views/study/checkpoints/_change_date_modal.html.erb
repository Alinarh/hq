<div class="modal fade" id="changeDate" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Изменить дату проведения занятия</h4>
      </div>
      <div class="modal-body">
        <%= form_for checkpoint, url: update_date_study_discipline_checkpoint_path(checkpoint.discipline, checkpoint),
                     class: 'form-horizontal' do |f| %>
          <%= f.hidden_field :id %>
          <label>Занятие</label>
          <%= text_field_tag :lesson, checkpoint.is_checkpoint? ? checkpoint.name : checkpoint.lessonname,
                             class: 'form-control', disabled: true %>
          <%= f.label :date %>
          <%= f.text_field :date, value: (l checkpoint.date), class: 'form-control datepicker', required: true %>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
            <%= submit_tag 'Изменить', class: 'btn btn-primary' %>
        <% end %>
        </div>
        </div>
  </div>
</div>

<script>
  $(function(){
    $('.edit_study_checkpoint').submit(function(e){
      var data = $(this).serialize();
      $.ajax({
        url: $(this).attr('action'),
        data: data
      });
      e.preventDefault();
    })
  })
</script>