<%= form_for achievement, remote: true, html: { class: 'form-horizontal form-achievement-validation' } do |f| %>
  <fieldset>
    <legend><%= achievement.user.full_name %></legend>

    <div class="form-group">
      <%= f.label :activity_id, class: 'col-sm-2 control-label' %>
      <div class="col-sm-10">
        <p class="form-control-static"><%= achievement.activity.name %></p>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :description, class: 'col-sm-2 control-label' %>
      <div class="col-sm-10">
        <%= f.text_area :description, rows: 5, class: 'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :value, class: 'col-sm-2 control-label' %>
      <div class="col-sm-4">
        <%= f.number_field :value, class: 'form-control achievement-value',
                           data: { id: achievement.id }, pattern: '\d+(\.\d{2})?' %>
      </div>
      <div class="col-sm-2">
        <p class="form-control-static" style="text-align: center;">
          <strong>= (в баллах)</strong>
        </p>
      </div>
      <div class="col-sm-4">
        <input type="text" class="form-control achievement-credit" disabled
               data-id="<%= achievement.id %>"
               data-base="<%= achievement.activity.base %>"
               data-credit="<%= achievement.activity.credit %>"
               value="<%= achievement.value * achievement.activity.credit / achievement.activity.base unless achievement.value.blank? %>">
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <%= f.submit 'Сохранить изменения', class: 'btn btn-default achievement-save',
                     data: { id: achievement.id } %>
      </div>
    </div>
  </fieldset>
<% end %>
